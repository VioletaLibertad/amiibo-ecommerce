(this["webpackJsonpecommerce-amiibo"]=this["webpackJsonpecommerce-amiibo"]||[]).push([[0],{54:function(e,t,a){e.exports=a(73)},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=(a(59),a(60),a(23)),i=a(9),u=a(12),m=a(22),s=a(53),E=a(52),b=a(25),d=function(e){return{type:"RECEIVE_AMIIBO_LIST",data:e}},f=function(e){return{type:"REMOVE_FROM_CART",data:e}},p={amiiboList:[],cart:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"RECEIVE_AMIIBO_LIST":return Object(b.a)({},e,{amiiboList:n});case"ADD_TO_CART":return Object(b.a)({},e,{cart:[].concat(Object(E.a)(e.cart),[n])});case"REMOVE_FROM_CART":return Object(b.a)({},e,{cart:e.cart.filter((function(e){return e.tail!==n.tail}))});case"GET_CART":return Object(b.a)({},e,{cart:e.cart});case"CLEAN_CART":return Object(b.a)({},e,{cart:[]});default:return e}},v=a(21),O=a.n(v),j=a(38),g=a(47),T=function(){var e=Object(g.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.amiiboapi.com/api/amiibo/");case 2:if(!(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:return a=(a=e.sent).amiibo.splice(0,100),e.abrupt("return",a);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=O.a.mark(y),w=O.a.mark(C);function y(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j.a)(T);case 3:return(e=t.sent).forEach((function(e){e.price=Math.round(1e4*Math.random())})),t.next=7,Object(j.b)(d(e));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),k,null,[[0,9]])}function C(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.c)("REQUEST_AMIIBO_LIST",y);case 2:case"end":return e.stop()}}),w)}var A=Object(s.a)(),I=Object(m.d)(h,Object(m.a)(A));A.run(C);var S=a(20),_=(a(66),a(37)),R=a(14),x=(a(67),a(24)),M=a(32);var B=function(e){var t=Object(n.useState)(0),a=Object(S.a)(t,2),c=a[0],l=a[1],i=Object(u.b)(),m=Object(u.c)((function(e){return e.cart}));return Object(n.useEffect)((function(){if(m.length>0){var e=m.reduce((function(e,t){return e+t.price}),0);l(e)}}),[m]),r.a.createElement(x.a,Object.assign({},e,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(x.a.Header,{closeButton:!0},r.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},"Tus futuros amiibos")),r.a.createElement(x.a.Body,null,m.length>0?r.a.createElement(M.a,{borderless:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Personaje"),r.a.createElement("th",null,"Amiibo Serie"),r.a.createElement("th",null,"Tipo"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null))),r.a.createElement("tbody",null,m.map((function(e){return r.a.createElement("tr",{key:e.tail},r.a.createElement("td",null,e.character),r.a.createElement("td",null,e.amiiboSeries),r.a.createElement("td",null,e.type),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,r.a.createElement(R.a,{size:"sm",variant:"danger",onClick:function(){return i(f(e))},block:!0},"Remover")))})))):r.a.createElement("h3",null,"Tu carrito est\xe1 vac\xedo, ve a buscar algunos amiibos :D")),r.a.createElement(x.a.Footer,{style:{justifyContent:"space-around"}},m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Total: $",c),r.a.createElement(o.b,{to:"/checkout",onClick:e.onHide},r.a.createElement(R.a,null,"\xa1Quiero mis amiibo!"))):r.a.createElement(R.a,{onClick:e.onHide},"Seleccionar amiibos")))};var L=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),c=a[0],l=a[1],o=e.showCart;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"navbar"},r.a.createElement(_.a.Item,null,r.a.createElement("h3",null,"AmiiboStore")),r.a.createElement(_.a.Item,null,o?r.a.createElement(R.a,{variant:"info",onClick:function(){return l(!0)}},"Ver Carrito"):null)),r.a.createElement(B,{show:c,onHide:function(){return l(!1)}}))},F=(a(72),a(19));var N=function(e){var t=Object(n.useState)(!1),a=Object(S.a)(t,2),c=a[0],l=a[1],o=Object(u.b)(),i=Object(u.c)((function(e){return e.cart})),m=e.data,s=i.find((function(e){return e.tail===m.tail}));return Object(n.useEffect)((function(){l(!!s)}),[s]),r.a.createElement(F.a,{className:"baseCard"},r.a.createElement(F.a.Img,{loading:"lazy",className:"cardImg",variant:"top",src:m.image}),r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,m.name),r.a.createElement(F.a.Text,null,m.amiiboSeries),r.a.createElement(F.a.Text,null,m.type),r.a.createElement(F.a.Title,null,"$ ",m.price)),r.a.createElement(F.a.Footer,null,c?r.a.createElement(R.a,{variant:"danger",onClick:function(){o(f(m)),l(!1)},block:!0},"Remover del carrito"):r.a.createElement(R.a,{variant:"primary",onClick:function(){o({type:"ADD_TO_CART",data:m}),l(!0)},block:!0},"Agregar al carrito")))},V=a(34),D=a(50),$=a(49);var H=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.amiiboList}));return Object(n.useEffect)((function(){0===t.length&&e({type:"REQUEST_AMIIBO_LIST"})})),r.a.createElement("div",null,r.a.createElement(L,{showCart:!0}),r.a.createElement(V.a,null,r.a.createElement("h2",null,"Bienvenid@ a la mejor tienda de Amiibos"),r.a.createElement($.a,null,t?t.map((function(e){return r.a.createElement(N,{key:e.tail,data:e})})):r.a.createElement(D.a,{animation:"grow"}))))},Q=a(51),z=a(36);var J=function(){var e=Object(n.useState)(0),t=Object(S.a)(e,2),a=t[0],c=t[1],l=Object(u.b)(),i=Object(u.c)((function(e){return e.cart}));return Object(n.useEffect)((function(){if(i.length>0){var e=i.reduce((function(e,t){return e+t.price}),0);c(e)}}),[i]),r.a.createElement("div",null,r.a.createElement(L,{showCart:!1}),r.a.createElement(V.a,null,r.a.createElement("h3",null,"Resumen de tu compra"),r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Personaje"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Amiibo Serie"),r.a.createElement("th",null,"Tipo"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.tail},r.a.createElement("td",null,e.character),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.amiiboSeries),r.a.createElement("td",null,e.type))})))),r.a.createElement(Q.a,{style:{textAlign:"center"}},r.a.createElement(z.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(R.a,null,"Seguir comprando"))),r.a.createElement(z.a,null,r.a.createElement("h3",null,"Total: $",a)),r.a.createElement(z.a,null,r.a.createElement(o.b,{to:"/"},r.a.createElement(R.a,{onClick:function(){return l({type:"CLEAN_CART"})}},"Ir al pago"))))))};var P=function(){return r.a.createElement(u.a,{store:I},r.a.createElement(o.a,{basename:window.location.pathname||""},r.a.createElement(i.a,{exact:!0,path:"/",component:H}),r.a.createElement(i.a,{path:"/checkout",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.57640929.chunk.js.map